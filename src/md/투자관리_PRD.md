# 투자관리 기능 PRD (Product Requirements Document)

## 📋 문서 정보
- **작성일**: 2026-02-08
- **버전**: 1.0
- **작성자**: Development Team
- **문서 유형**: Product Requirements Document

---

## 1. 개요

### 1.1 목적
사용자가 Google Sheets에 저장된 투자 데이터를 조회, 추가, 관리할 수 있는 웹 기반 투자관리 시스템 개발

### 1.2 배경
- 기존 습관 형성 앱에 투자 포트폴리오 관리 기능 추가
- Google Sheets API를 활용한 데이터 저장/조회
- 다국어 지원 및 사용자 친화적 UI 제공

### 1.3 목표
- 투자 데이터의 효율적인 입력 및 조회
- 다양한 필터 조건을 통한 데이터 분석
- 직관적인 탭 기반 UI 구조

---

## 2. 사용자 스토리

### 2.1 핵심 사용자 스토리

#### US-001: 투자 내역 조회
```
As a 사용자
I want to Google Sheets에 저장된 투자 데이터를 조회하고 싶다
So that 내 투자 현황을 한눈에 파악할 수 있다
```

**인수 기준:**
- [ ] Google Sheets 연동 후 데이터 조회 가능
- [ ] 날짜 기준 내림차순 정렬 (최신 데이터 우선)
- [ ] 페이지네이션 지원 (페이지당 10개)
- [ ] 컬럼별 정렬 기능 (날짜, 분류, 종목명, 수량, 가격)

#### US-002: 필터 조건 검색
```
As a 사용자
I want to 다양한 조건으로 투자 데이터를 필터링하고 싶다
So that 특정 조건에 맞는 투자 데이터만 볼 수 있다
```

**인수 기준:**
- [ ] 시작일/종료일 날짜 범위 필터
- [ ] 분류 필터 (전체/주식/코인/부동산/현금)
- [ ] 종목명 검색 (부분 일치)
- [ ] 여러 필터 조합 가능
- [ ] 필터 초기화 기능

#### US-003: 투자 항목 추가
```
As a 사용자
I want to 새로운 투자 항목을 추가하고 싶다
So that 최신 투자 내역을 기록할 수 있다
```

**인수 기준:**
- [ ] 날짜, 분류, 종목명, 수량, 가격, 메모 입력 가능
- [ ] 필수 입력 필드 검증 (종목명, 가격)
- [ ] 추가 후 자동으로 투자내역조회 탭으로 이동
- [ ] 데이터 추가 후 자동 새로고침

#### US-004: Google Sheets 연동 설정
```
As a 사용자
I want to Google Sheets 연동 설정을 저장하고 싶다
So that 매번 인증 정보를 입력하지 않아도 된다
```

**인수 기준:**
- [ ] Spreadsheet ID 입력 및 저장
- [ ] Service Account 정보 자동 로드
- [ ] 로컬 스토리지에 설정 저장
- [ ] 설정 저장 확인 메시지

#### US-005: 다국어 지원
```
As a 국제 사용자
I want to 영어와 한국어로 화면을 전환하고 싶다
So that 내가 편한 언어로 서비스를 이용할 수 있다
```

**인수 기준:**
- [ ] 영어/한국어 전환 지원
- [ ] 모든 UI 텍스트 번역 적용
- [ ] 분류 값은 코드성 데이터로 번역 제외 (항상 한글)
- [ ] 언어 설정 저장

---

## 3. 기능 요구사항

### 3.1 화면 구조

#### 3.1.1 탭 구조
투자관리 화면은 3개의 탭으로 구성:

1. **📊 투자내역조회**
   - 조회 조건 필터 (시작일, 종료일, 분류, 종목명)
   - 조회/초기화 버튼
   - 투자 데이터 테이블
   - 페이지네이션

2. **➕ 투자항목 추가**
   - 투자 항목 입력 폼
   - 추가 버튼
   - 유효성 검증

3. **⚙️ 연동설정**
   - Spreadsheet ID 입력
   - Service Account 정보 (자동 설정)
   - 설정 저장 버튼

### 3.2 필터 조건

| 필터 | 유형 | 설명 |
|------|------|------|
| 시작일 | Date | 조회 시작 날짜 |
| 종료일 | Date | 조회 종료 날짜 |
| 분류 | Select | 전체/주식/코인/부동산/현금 |
| 종목명 | Text | 종목명 부분 검색 |

**필터 적용 방식:**
- 서버 사이드 필터링 (백엔드에서 처리)
- 여러 필터 조합 가능 (AND 조건)
- 초기화 버튼으로 모든 필터 리셋

### 3.3 데이터 테이블

#### 컬럼 구성
| 컬럼명 | 데이터 타입 | 정렬 | 설명 |
|--------|-------------|------|------|
| 날짜 | Date | ✅ | 투자 날짜 (YYYY-MM-DD) |
| 분류 | String | ✅ | 주식/코인/부동산/현금 (배지 형태) |
| 종목명 | String | ✅ | 투자 종목명 |
| 수량 | Number | ✅ | 투자 수량 |
| 가격 | Number | ✅ | 단가 (원) |
| 총액 | Calculated | ❌ | 수량 × 가격 (계산 필드) |
| 메모 | String | ❌ | 추가 메모 |

#### 정렬 기능
- 컬럼 헤더 클릭으로 정렬
- 3단계 정렬: 내림차순 → 오름차순 → 원본 순서
- 정렬 상태 아이콘 표시

#### 페이지네이션
- 페이지당 10개 항목
- 이전/다음 페이지 버튼
- 현재 페이지 / 전체 페이지 표시
- 전체 항목 수 표시

### 3.4 투자 항목 입력

#### 입력 필드
| 필드명 | 필수 | 타입 | 기본값 | 검증 |
|--------|------|------|--------|------|
| 날짜 | ✅ | Date | 오늘 날짜 | - |
| 분류 | ✅ | Select | 주식 | 주식/코인/부동산/현금 중 선택 |
| 종목명 | ✅ | Text | - | 비어있으면 안됨 |
| 수량 | ⭕ | Number | - | 양수 |
| 가격 | ✅ | Number | - | 양수, 비어있으면 안됨 |
| 메모 | ⭕ | Text | - | - |

#### 입력 플로우
1. 사용자가 투자항목 추가 탭 클릭
2. 입력 폼에 데이터 입력
3. "추가" 버튼 클릭
4. 필수 필드 검증
5. Google Sheets에 데이터 추가
6. 자동으로 투자내역조회 탭으로 이동
7. 데이터 새로고침

---

## 4. 비기능 요구사항

### 4.1 성능
- 데이터 로딩 시간: 3초 이내
- 페이지 전환: 즉시 (100ms 이내)
- 필터 적용: 2초 이내

### 4.2 사용성
- 반응형 디자인 (데스크톱, 태블릿, 모바일)
- 직관적인 탭 네비게이션
- 필터 조건 한 줄 배치 (공간 효율성)
- 명확한 에러 메시지

### 4.3 접근성
- 키보드 네비게이션 지원
- 적절한 색상 대비
- 스크린 리더 호환성

### 4.4 보안
- Google Sheets API 인증
- Service Account 정보 보호
- HTTPS 통신

### 4.5 호환성
- 최신 Chrome, Firefox, Safari, Edge 지원
- 모바일 브라우저 지원

---

## 5. 제약사항

### 5.1 기술적 제약
- Google Sheets API 사용 필수
- Service Account 인증 방식
- 로컬 스토리지 사용 (설정 저장)

### 5.2 데이터 제약
- Google Sheets 헤더: `date`, `category`, `name`, `quantity`, `price`, `note`
- 분류 값: 한글 고정 (주식, 코인, 부동산, 현금)
- 날짜 형식: YYYY-MM-DD

### 5.3 UI/UX 제약
- 기존 앱 디자인 시스템 준수
- 다크모드 지원
- NotebookLM 화면과 동일한 레이아웃 패턴

---

## 6. UI/UX 가이드라인

### 6.1 레이아웃
```
┌─────────────────────────────────────────────────────────┐
│ 📈 투자관리                                              │
│ 구글 시트에 연동하여 자산을 한눈에 파악하세요.            │
├─────────────────────────────────────────────────────────┤
│ [📊 투자내역조회] [➕ 투자항목 추가] [⚙️ 연동설정]      │
├─────────────────────────────────────────────────────────┤
│                                                          │
│ 🔍 조회조건                                              │
│ [시작일] [종료일] [분류] [종목명] [조회하기] [🔄]       │
│                                                          │
│ ┌────────────────────────────────────────────────────┐ │
│ │ 날짜 ↕ │ 분류 ↕ │ 종목명 ↕ │ 수량 ↕ │ 가격 ↕ │... │ │
│ ├────────────────────────────────────────────────────┤ │
│ │ 2026-02-08 │ 주식 │ 삼성전자 │ 10 │ 70,000원 │... │ │
│ │ ...                                                 │ │
│ └────────────────────────────────────────────────────┘ │
│                                                          │
│ < 1 / 5 >                                    10개 중 1-10 │
└─────────────────────────────────────────────────────────┘
```

### 6.2 컬러 시스템
- **Primary**: 파란색 (#3B82F6) - 조회 버튼, 탭 활성화
- **주식**: 파란색 배지 (#DBEAFE / #1E40AF)
- **코인**: 주황색 배지 (#FED7AA / #C2410C)
- **Success**: 녹색 - 성공 메시지
- **Error**: 빨간색 - 에러 메시지

### 6.3 타이포그래피
- **헤더**: 3xl, Bold
- **탭**: sm, SemiBold
- **테이블 헤더**: sm, Medium
- **테이블 내용**: base, Regular

---

## 7. 성공 지표

### 7.1 핵심 지표 (KPI)
- 데이터 조회 성공률: 95% 이상
- 평균 응답 시간: 2초 이내
- 사용자 만족도: 4.0/5.0 이상

### 7.2 사용성 지표
- 투자 항목 추가 완료율: 90% 이상
- 필터 사용률: 60% 이상
- 탭 전환율: 각 탭당 30% 이상

---

## 8. 릴리스 계획

### 8.1 Phase 1 (MVP) - 완료 ✅
- [x] 기본 탭 구조 구현
- [x] Google Sheets 연동
- [x] 데이터 조회 및 표시
- [x] 투자 항목 추가
- [x] 기본 정렬 및 페이지네이션

### 8.2 Phase 2 (Enhancement) - 완료 ✅
- [x] 필터 기능 (날짜, 분류, 종목명)
- [x] 다국어 지원 (영어/한국어)
- [x] UI/UX 개선 (한 줄 레이아웃)
- [x] 레이아웃 최적화 (화면 공간 활용)

### 8.3 Phase 3 (Future) - 계획
- [ ] 차트/그래프 시각화
- [ ] 엑셀 파일 내보내기
- [ ] 투자 수익률 계산
- [ ] 포트폴리오 분석

---

## 9. 부록

### 9.1 용어 정의
- **분류**: 투자 자산 유형 (주식, 코인, 부동산, 현금)
- **종목명**: 투자 대상의 이름
- **수량**: 투자 단위 수
- **가격**: 단위당 가격
- **총액**: 수량 × 가격

### 9.2 참고 자료
- Google Sheets API: https://developers.google.com/sheets/api
- Tailwind CSS: https://tailwindcss.com
- React Documentation: https://react.dev

---

## 📝 변경 이력

| 날짜 | 버전 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 2026-02-08 | 1.0 | 최초 문서 작성 | Dev Team |
