# 매뉴얼 이미지 자동화 도구 (Manual Image Automation Tool) - PRD

## 1. 개요 (Overview)
본 문서는 Stitch 애플리케이션의 사용자 매뉴얼에 사용되는 스크린샷 이미지를 자동으로 캡처하고 최신 상태로 유지하기 위한 내부 자동화 도구의 요구사항을 정의합니다.

## 2. 배경 및 목적 (Background & Objectives)
### 2.1 배경
- 애플리케이션의 UI가 지속적으로 업데이트됨에 따라, 사용자 매뉴얼의 스크린샷이 구버전이 되는 문제가 발생함.
- 매번 수동으로 화면을 캡처하고, 파일명을 지정하여 저장하는 단순 반복 작업이 비효율적임.

### 2.2 목적
- **자동화**: 주요 기능 화면(투자관리, 기준정보관리 등)의 캡처 과정을 자동화하여 작업 시간을 단축합니다.
- **일관성**: 동일한 해상도(1920x1080)와 일관된 파일명 규칙을 적용하여 문서의 품질을 유지합니다.
- **유지보수 용이성**: UI 변경 시 스크립트 실행 한 번으로 모든 매뉴얼 이미지를 최신화할 수 있도록 합니다.

## 3. 주요 기능 (Key Features)

### 3.1 시나리오 기반 캡처
- 사전에 정의된 `SCENARIOS` 목록에 따라 URL 이동 및 UI 조작(클릭)을 순차적으로 수행합니다.
- **대상 화면**:
  - 투자관리 (조회, 등록 폼, 계좌 관리, 연동 설정)
  - 기준정보관리 (공통코드, 메뉴 관리, 권한 관리)

### 3.2 지능형 로그인 감지 (Human-in-the-loop)
- 스크립트 실행 시 로그인 여부를 자동으로 판단합니다.
- **로그인 필요 시**: 사용자가 직접 로그인할 수 있도록 브라우저를 띄우고(Headful mode), 로그인이 완료될 때까지 대기합니다.
- **로그인 완료 시**: 자동으로 감지하여 다음 캡처 시나리오를 진행합니다.

### 3.3 동적 UI 조작
- 특정 탭이나 버튼을 클릭하여 원하는 화면 상태를 만든 후 캡처합니다.
- 텍스트 기반으로 버튼을 찾는 유연한 로직(XPath)을 사용하여, UI 구조 변경에 강건하게 대응합니다.

### 3.4 파일 관리
- 캡처된 이미지는 지정된 디렉토리(`src/md/images`)에 정의된 파일명으로 자동 저장됩니다.
- 디렉토리가 없을 경우 자동으로 생성합니다.

## 4. 유저 스토리 (User Stories)
- **문서 관리자**는 매뉴얼 이미지를 최신화하기 위해 터미널에서 명령어 하나만 실행하면 됩니다.
- **개발자**는 새로운 기능이 추가되었을 때 시나리오 목록에 URL과 액션만 추가하여 캡처 대상을 확장할 수 있습니다.

## 5. 제약 사항 (Constraints)
- 로컬 개발 서버(`http://localhost:5173`)가 실행 중이어야 합니다.
- 초기 로그인은 보안상 사용자가 직접 수행해야 합니다 (자동 입력 제외).
